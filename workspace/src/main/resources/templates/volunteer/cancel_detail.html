<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<th:block
	th:replace="~{/layout/layoutV1 :: setContent(~{this :: title}, ~{this :: uniqhead}, ~{this :: content})}">

	<!--/* 타이틀 동적변경 */-->
	<title th:fragment="title">동의페이지</title>

	<!--/* 페이지별 특정 head내용 동적변경*/-->
	<th:block th:fragment="uniqhead">
		<!-- =============================================================== 개별css ========================================================================== -->
		<link rel="stylesheet" href="/assets/css/volunteer/common_cal.css">
		<link rel="stylesheet" href="/assets/css/volunteer/sub.css">
		<link rel="stylesheet" href="/assets/css/volunteer/cancel_detail.css">
		<link rel="stylesheet" href="/assets/css/shelter/shelter-lite3153.css"
			media="all">
		<link rel="stylesheet" href="/assets/css/nontap.css">
		<link rel="stylesheet"
			href="/assets/css/volunteer/post1544_agreement.css" media="all">

		<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700'
			rel='stylesheet' type='text/css'>
		<link rel='stylesheet'
			href='https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.8/slick.min.css'>
		<link rel='stylesheet'
			href='https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.8/slick-theme.min.css'>

		<!-- ============================================================== 개별script =========================================================================-->
		<script
			src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
		<script
			src='https://templatekit.tokomoo.com/adopkit/wp-includes/js/jquery/jquery.min.js?ver=3.7.0'
			id='jquery-core-js'></script>
		<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
		<script
			src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
			integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
			crossorigin="anonymous"></script>
		<script defer
			src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
		<script defer
			src='https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.8/slick.min.js'></script>
		<script defer src="/assets/js/shelter/slick.js"></script>
	</th:block>

	<!--/* 페이지별 콘텐츠 동적변경 */-->
	<th:block th:fragment="content">
		<main id="centerdetail" style="background-color: #FFFCF7;">
			<div data-elementor-type="wp-page" data-elementor-id="1686"
				class="elementor elementor-1686" data-elementor-post-type="page">
				<section
					class="elementor-section elementor-top-section elementor-element elementor-element-69bd6b53 elementor-section-boxed elementor-section-height-default elementor-section-height-default"
					data-id="69bd6b53" data-element_type="section"
					data-settings="{&quot;background_background&quot;:&quot;gradient&quot;}">
					<div class="elementor-background-overlay"></div>
					<div class="elementor-container elementor-column-gap-no">
						<div
							class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-63099e24"
							data-id="63099e24" data-element_type="column">
							<div class="elementor-widget-wrap elementor-element-populated">
								<section
									class="elementor-section elementor-inner-section elementor-element elementor-element-61adb26d elementor-section-boxed elementor-section-height-default elementor-section-height-default elementor-invisible"
									data-id="61adb26d" data-element_type="section"
									data-settings="{&quot;animation&quot;:&quot;fadeInUp&quot;}">
									<div class="elementor-container elementor-column-gap-no">
										<div
											class="elementor-column elementor-col-100 elementor-inner-column elementor-element elementor-element-640bdb8f"
											data-id="640bdb8f" data-element_type="column">
											<div
												class="elementor-widget-wrap elementor-element-populated"
												style="margin-top: 8%; margin-bottom: 8%;">
												<div
													class="elementor-element elementor-element-3fdf0404 elementor-widget elementor-widget-heading"
													data-id="3fdf0404" data-element_type="widget"
													data-widget_type="heading.default">
													<div class="elementor-widget-container">
														<h1 class="elementor-heading-title elementor-size-default">신청내역
															상세보기</h1>
													</div>
												</div>
											</div>
										</div>
								</section>
							</div>
						</div>
				</section>
			</div>
			<section class="explore-section section-padding" id="section_2">


				<div class="container">


					<div class="row">

						<div class="col-12">
							<div class="tab-content" id="myTabContent">
								<div class="centerintro">



									<!-- 추가추가 -->
									<script type="text/javascript">
										$(function() {

											$("#btnRegist").click(function() {
												$("#cancelForm").submit();
											});

											$("#cancelForm")
													.submit(
															function() {

																if (confirm($(
																		"#prgName")
																		.text()
																		+ " 봉사활동 신청내역을 취소하시겠습니까?\r\n취소 후에는 복구할 수 없습니다.")) {
																	return true;
																}

																return false;

															});
											var prgtpe_cd = Number("9");
											var teamCk = "개인";
											if (!(35 <= prgtpe_cd && prgtpe_cd <= 42)) {
												if (teamCk != "단체") {
													getUptBtnAble();
												}
											}
										});

										function updateRsvtTime() {
											if (confirm("수정 시 봉사일과 봉사시간만 수정할 수 있습니다.\n봉사활동 신청내역을 수정하시겠습니까?")) {
												$("#updateForm")
														.attr("action",
																"/application/reservation/updateProgramDetail.action");
												$("#updateForm").submit();
												return true;
											}
											return false;

											/* $("#updateForm").submit(function(event) {
												alert("!!!!!!");
												if(confirm("봉사활동 신청내역을 수정하시겠습니까?")) {
													return true;
												}
												return false;
											}); */
										}

										/*
											현재날짜 체크 및 수정버튼 활성화
										 */

										function getUptBtnAble() {
											var today = new Date();
											var year = today.getFullYear() + "";
											var month = today.getMonth() + 1;

											var hour = today.getHours();
											var min = today.getMinutes();
											if (month <= 9) {
												month = "0" + month;
											}
											var day = today.getUTCDate();
											if (day <= 9) {
												day = "0" + day;
											}

											var nowDay = year + month + day;
											var rsrvDate = "";
											rsrvDate = "20231004";

											if (parseInt(rsrvDate) >= parseInt(nowDay)) {
												if ((rsrvDate == parseInt(nowDay))
														&& getDiffMinute(hour,
																min)) {
													drawTxt();
												} else if (rsrvDate > parseInt(nowDay)) {
													drawTxt();
												}
											}
										}

										function getDiffMinute(hour, min) {
											var prgStattimeHour = "13";
											var prgStattimeMin = "00";
											var isable = false;
											var diffMin = (parseInt(prgStattimeHour) - parseInt(hour))
													* 60
													+ (parseInt(prgStattimeMin) - parseInt(min));
											if (diffMin >= 60) {
												isable = true;
											}

											return isable

										}

										function drawTxt() {
											var txt = "<li class='btn_default btn_green float_r'><a href='/volunteer/calender' id ='btnUpt' onclick = 'updateRsvtTime();'>예약수정</a></li>";
											var txt2 = "<li><div><h4><span class='tts_default tts_cyan'>예약변경</span></h4>";
											txt2 += "<p>봉사활동 시간을 변경하시려면<span class='tts_default tts_green'>예약수정</span>을 누르세요.</p>";
											txt2 += "<p>봉사 1시간 전까지 봉사일과 봉사시간만 수정 가능합니다.</p></div></li>";
											$("#confirm_beinfo").prepend(txt2);
											$("#btn_set").append(txt);
										}
									</script>


									<!-- 서브 컨텐츠 -->
									<div id="sb_contents" class="contents">

										<table class="tbl_cen tbl_confirm_detaile">
											<caption>신청내역 상세보기</caption>
											<colgroup>
												<col />
												<col />
												<col />
												<col />
											</colgroup>
											<tbody>
												<tr>
													<th scope="row">신청인</th>
													<td colspan="3" class="txt_l">홍길동</td>
												</tr>
												<tr>
													<th scope="row">신청번호</th>
													<td colspan="3" class="txt_l">009802949240</td>
												</tr>
												<tr>
													<th scope="row">신청일</th>
													<td colspan="3" class="txt_l">2023.09.04 [월] 22:20:19</td>
												</tr>
												<tr>
													<th scope="row">봉사장소</th>
													<td colspan="3" class="txt_l">굿도그유기견센터</td>
												</tr>
												<tr>
													<th scope="row">봉사일</th>
													<td colspan="3" class="txt_l">2023.10.04 [수]</td>
												</tr>
												<tr>
													<th scope="row">봉사시간</th>
													<td colspan="6" class="txt_l">
														<div id="selectTime">
															<form method="POST" id="updateForm">
																<input type="hidden" name="rsrvt_id"
																	value="009802949240" /> <input type="hidden"
																	name="prg_code" value="00003666" /> <input
																	type="hidden" name="prgtpe_cd" value="9" /> <span
																	id="startTime" name="startTime"> 시작시간 : 14:00 </span> <span
																	id="endTime" name="endTime"> ~ 종료시간 : 18:00 </span>

															</form>
														</div>
													</td>
												</tr>
												<tr>
													<th scope="row">문의전화</th>
													<td colspan="3" class="txt_l">029403736</td>
												</tr>
											</tbody>
										</table>
										<!-- 봉사활동 사전안내 절차 -->
										<!-- 봉사 승인여부에 따라 visible속성 추가제거 -->
										<div class="beforeInfo_box">
											<ul class="confirm_beinfo" id="confirm_beinfo">
												<li>
													<div style="margin-left: 20%;">
														<h4>
															<span class="tts_default tts_cyan">예약취소</span>
														</h4>
														<p>
															신청내역을 취소하시려면 <span class="tts_default tts_blue">예약취소</span>를
															누르세요.
														</p>
														<p>
															※ 복구가 <span class="tts_default tts_red">불가능</span>합니다.
														</p>
													</div>
												</li>
											</ul>
										</div>

										<!-- //봉사활동 사전안내 절차 -->

										<!-- 봉사 승인여부에 따라 visible속성 추가제거 -->
										<form action="/confirm/procCancelReservation.action"
											method="POST" id="cancelForm">
											<input type="hidden" name="rsrvt_id" value="009802949240" />
										</form>

										<ul class="btn_set" id="btn_set">
											<li class="btn_default float_l"><a
												href="/volunteer/application_list.html" th:href="@{'/'+volunteer+'/'+list}">목록</a></li>

											<li class="btn_default btn_red float_r"><a
												href="/volunteer/volunteer.html" th:href="@{'/'+volunteer}" id="btnRegist">예약취소</a></li>
										</ul>


									</div>
									<!-- //서브 컨텐츠 -->
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>
		</main>

	</th:block>

</th:block>